<!DOCTYPE html>
<html 
xmlns:th="https://thymeleaf.org" 
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
    <!-- Meta tags Obrigatórias -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <title>Lista Produtos</title>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #0d2c6b;">
        <img src="https://icons.iconarchive.com/icons/custom-icon-design/flatastic-4/128/Shopping-cart-full-icon.png" width="30" height="30" class="d-inline-block align-top" alt="">

        <a class="navbar-brand" href="#">Sistema Cadastro de Produtos</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#conteudoNavbarSuportado" aria-controls="conteudoNavbarSuportado" aria-expanded="false" aria-label="Alterna navegação">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="conteudoNavbarSuportado">
   
        </div>
      </nav>

    <div class="container">
		<table class="table">
	    	<thead>
	    		<tr>
		    		<td>ID</td>
		    		<td>Nome Produto</td>
		    		<td>Tipo do Produto</td>
		    		<td>Preço</td>
		    		<td>Valor do Frete</td>
		    		<td>Promoção</td>
		    		<td>Valor do Desconto</td>
		    		<td>Peso / Tamanho</td>
		    		<td>Total</td>
		    		<td>Opções</td>
	    		</tr>
	    	</thead>
	    	<tbody th:each="produto: ${ListaProdutos}">
	    		<tr>
	    			<td th:text="${produto.id}"></td>
	    			<td th:text="${produto.nome}"></td>
	    			<td th:text="${produto.unidadeMedida}"></td>
	    			<td th:text="${produto.preco}"></td>
	    			<td th:text="${produto.valorFrete}"></td>
	    			<td th:text="${produto.Promocao} ? 'Sim' : 'Não'"></td>
	    			<td th:text="${produto.valorDesconto}"></td>
	    			<td th:text="${produto.tamanho}"></td>
	    			<td th:text="${produto.total}"></td>
	    			
	    			<td colspan="2">
	    				<a th:href="@{/editarProduto/{id}(id=${produto.id})}">Editar</a>
	    				<a th:href="@{/removerProduto/{id}(id=${produto.id})}">Remover</a>
	    			</td>
	    		</tr>
	    	</tbody>
	    </table>
        <a class="btn btn-danger" href="/administrativo" style="border: none;"> Voltar </a>
    </div>
	
	<!-- Exibir o Produto Mais Caro -->
	<div class="alert alert-info" role="alert" style="margin-top: 15px">
	    <strong>Produto Mais Caro:</strong> <span th:text="${produtoMaisCaro != null ? produtoMaisCaro.nome : 'Nenhum produto encontrado'}"></span> 
	    - <span th:text="${produtoMaisCaro != null ? produtoMaisCaro.total : 'N/A'}"></span>
	</div>
	
	<!-- Exibir a Média de Preços -->
	<div class="alert alert-info" role="alert">
	    <strong>Média de Preços (sem desconto):</strong> <span th:text="${mediaPreco}"></span>
	</div>
	
	
    <!-- JavaScript (Opcional) -->
    <!-- jQuery primeiro, depois Popper.js, depois Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
</body>
</html>




